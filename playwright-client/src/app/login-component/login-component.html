<div class="login-container">
  <div class="form-section">
    <div class="greetings-section">
      <div class="branding">
        <img src="assets/images/riskonnectLogo.webp" alt="Logo" class="logo" />
        <span class="brand-name">Riskonnect</span>
      </div>
      <div class="greeting-text">
        <h4>Welcome Back!</h4>
        <p>Good luck finding those pesky bugs...</p>
      </div>
    </div>

    <div class="login-signup">
      <button
        class="btn signin"
        (click)="setActiveForm('signIn')"
        [ngClass]="{
          'btn-primary': activeForm === 'signIn',
          'btn-secondary': activeForm !== 'signIn'
        }"
      >
        Sign In
      </button>
      <button
        class="btn signup"
        (click)="setActiveForm('signUp')"
        [ngClass]="{
          'btn-primary': activeForm === 'signUp',
          'btn-secondary': activeForm !== 'signUp'
        }"
      >
        Sign Up
      </button>
    </div>

    <!-- @if(activeForm === 'signIn'){
    <form #loginForm="ngForm" (ngSubmit)="onSubmit(loginForm)">
      <div class="form-group" animate.enter="enter-animation">
        <input
          type="text"
          id="credential1"
          class="form-control"
          placeholder="User name or email"
          name="userNameorEmail"
          ngModel
        /><br />
        <input
          type="password"
          id="credential2"
          class="form-control"
          placeholder="Password"
          name="password"
          ngModel
        /><br />
      </div>
    </form>
    } @else {
    <form #loginForm="ngForm" (ngSubmit)="onSubmit(loginForm)">
      <div class="form-group" animate.enter="enter-animation">
        <input
          type="text"
          placeholder="User Name"
          class="form-control"
          name="userName"
          ngModel
        /><br />
        <input type="email" placeholder="Email" class="form-control" name="email" ngModel /><br />
        <input
          type="password"
          placeholder="Password"
          class="form-control"
          name="password"
          ngModel
        /><br />
        <input
          type="password"
          placeholder="Confirm Password"
          class="form-control"
          name="confirmPassword"
          ngModel
        /><br />
      </div>
    </form>
    } -->
    <form #authForm="ngForm" class="auth-form" (ngSubmit)="onSubmit(authForm)">
      @if(activeForm === 'signIn'){
      <div class="form-group" animate.enter="enter-animation">
        <input
          type="text"
          id="credential1"
          class="form-control"
          placeholder="User name or email"
          name="userNameorEmail"
          ngModel
          required="userNameorEmail"
        /><br />
        <div class="password-wrapper">
          <input
            [type]="passwordVisible ? 'text' : 'password'"
            id="credential2"
            class="form-control"
            placeholder="Password"
            name="password"
            ngModel
            required
          />
          <span class="toggle-password" (click)="togglePasswordVisibility()">
            @if(passwordVisible){
            <i class="fas fa-eye-slash"></i>
            } @else {<i class="fas fa-eye"></i>}
          </span>
        </div>
        <!-- <input
          type="password"
          id="credential2"
          class="form-control"
          placeholder="Password"
          name="password"
          ngModel
        /><br /> -->
      </div>
      } @else {
      <div class="form-group" animate.enter="enter-animation">
        <input
          type="text"
          placeholder="User Name"
          class="form-control"
          name="userName"
          ngModel
        /><br />
        <input type="email" placeholder="Email" class="form-control" name="email" ngModel /><br />
        <div class="password-wrapper">
          <input
            [type]="passwordVisible ? 'text' : 'password'"
            id="credential2"
            class="form-control"
            placeholder="Password"
            name="password"
            ngModel
            required
          />
          <span class="toggle-password" (click)="togglePasswordVisibility()">
            @if(passwordVisible){
            <i class="fas fa-eye-slash"></i>
            } @else {<i class="fas fa-eye"></i>}
          </span>
        </div>
        <br>
        <div class="password-wrapper">
          <input
            [type]="passwordVisible ? 'text' : 'password'"
            id="credential3"
            class="form-control"
            placeholder="Confirm Password"
            name="confirmPassword"
            ngModel
            required
          />
          <span class="toggle-password" (click)="togglePasswordVisibility()">
            @if(passwordVisible){
            <i class="fas fa-eye-slash"></i>
            } @else {<i class="fas fa-eye"></i>}
          </span>
        </div>
      </div>
      }

      <!--Action Buttons-->
      <div class="action-btn">
        <button class="btn" type="submit" [disabled]="authForm.invalid">
          {{ activeForm === 'signIn' ? 'Log In' : 'Sign Up' }}
        </button>
      </div>
    </form>
  </div>
  <div class="img-section"></div>
</div>
